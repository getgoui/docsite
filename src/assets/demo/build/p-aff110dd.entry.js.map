{"version":3,"names":["goFieldCss","GoField","updateErrorState","this","hasError","error","componentWillLoad","hasIconBefore","hasSlot","el","hasIconAfter","hasPrefix","hasSuffix","hasHintSlot","hasLabelSlot","initIdProps","idPrefix","componentDidLoad","updateAttributes","componentDidUpdate","controlEl","querySelector","controlElSelector","warning","prefixId","suffixId","labelId","hint","hintId","errorId","labelledByIds","push","describedByIds","disabled","setAttribute","removeAttribute","join","render","controlId","label","readonly","hiddenInputName","hiddenInputValue","showLabel","showHint","showLabelWrapper","h","Host","class","htmlFor","id","name","xmlns","viewBox","fill","d","opacity","type","value"],"sources":["src/components/form/go-field/go-field.scss?tag=go-field","src/components/form/go-field/go-field.tsx"],"sourcesContent":["go-field {\r\n display: block;\r\n}\r\n","import { Component, Host, h, Element, Prop, Watch, State } from '@stencil/core';\r\nimport { FormFieldProps } from '../../../interfaces';\r\nimport { hasSlot, initIdProps, warning } from '../../../utils';\r\n\r\n@Component({\r\n  tag: 'go-field',\r\n  styleUrl: 'go-field.scss',\r\n  shadow: false,\r\n})\r\nexport class GoField implements FormFieldProps {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() idPrefix: string;\r\n\r\n  @Prop() controlId: string;\r\n\r\n  /**\r\n   * DOM id for label\r\n   */\r\n  @Prop({ mutable: true })\r\n  labelId?: string;\r\n\r\n  /**\r\n   * DOM id for prefix\r\n   */\r\n  @Prop({ mutable: true })\r\n  prefixId?: string;\r\n\r\n  /**\r\n   * DOM id for suffix\r\n   */\r\n  @Prop({ mutable: true })\r\n  suffixId?: string;\r\n  /**\r\n   * DOM id for hint message\r\n   */\r\n  @Prop({ mutable: true })\r\n  hintId?: string;\r\n\r\n  /**\r\n   * DOM id for error\r\n   */\r\n  @Prop({ mutable: true })\r\n  errorId?: string;\r\n\r\n  /**\r\n   * Name of the input field\r\n   */\r\n  @Prop() name: string;\r\n\r\n  /**\r\n   * Label of the input field\r\n   */\r\n  @Prop() label: string;\r\n\r\n  /**\r\n   * If the input is disabled\r\n   */\r\n  @Prop() disabled?: boolean;\r\n  /**\r\n   * Hint message for the input\r\n   */\r\n  @Prop() hint?: string;\r\n  /**\r\n   * Error state of input, text provided will be shown as error message\r\n   */\r\n  @Prop() error?: boolean | string;\r\n  /**\r\n   * If this input is read-only\r\n   */\r\n  @Prop() readonly?: boolean;\r\n\r\n  /**\r\n   * Allow empty value for `error` attribute and show error state\r\n   */\r\n  @State() hasError = false;\r\n\r\n  /**\r\n   * If specified, an input element with `type=\"hidden\"` will be generated\r\n   * and this hiddenName prop will be used as the `name` of the hidden input\r\n   *\r\n   * use `hiddenInputValue` prop to set the value of that field\r\n   */\r\n  @Prop() hiddenInputName?: string;\r\n\r\n  /**\r\n   * Sets the value of the hidden input created by `hiddenInputName`\r\n   */\r\n  @Prop() hiddenInputValue?: string;\r\n\r\n  @Watch('error')\r\n  updateErrorState() {\r\n    this.hasError = !!this.error;\r\n  }\r\n\r\n  hasIconBefore: boolean;\r\n  hasIconAfter: boolean;\r\n  hasPrefix: boolean;\r\n  hasSuffix: boolean;\r\n  hasHintSlot: boolean;\r\n  hasLabelSlot: boolean;\r\n\r\n  componentWillLoad() {\r\n    this.hasIconBefore = hasSlot(this.el, 'icon-before');\r\n    this.hasIconAfter = hasSlot(this.el, 'icon-after');\r\n    this.hasPrefix = hasSlot(this.el, 'prefix');\r\n    this.hasSuffix = hasSlot(this.el, 'suffix');\r\n    this.hasHintSlot = hasSlot(this.el, 'hint');\r\n    this.hasLabelSlot = hasSlot(this.el, 'label');\r\n    initIdProps(this, this.el, ['label', 'prefix', 'suffix', 'hint', 'error'], this.idPrefix);\r\n    this.updateErrorState();\r\n  }\r\n\r\n  @Prop() controlElSelector = '.control';\r\n  controlEl: HTMLElement;\r\n  componentDidLoad() {\r\n    this.updateAttributes();\r\n  }\r\n  componentDidUpdate() {\r\n    this.updateAttributes();\r\n  }\r\n\r\n  updateAttributes() {\r\n    if (!this.controlEl) {\r\n      this.controlEl = this.el.querySelector(this.controlElSelector);\r\n      if (!this.controlEl) {\r\n        warning(\r\n          `Cannot find field control based on selector ${this.controlElSelector}. Make sure the element exists in the DOM`,\r\n        );\r\n        return;\r\n      }\r\n    }\r\n\r\n    const { hasPrefix, hasSuffix, prefixId, suffixId, labelId, hasHintSlot, hint, hintId, hasError, errorId } = this;\r\n\r\n    const labelledByIds = [];\r\n    if (hasPrefix) {\r\n      labelledByIds.push(prefixId);\r\n    }\r\n    labelledByIds.push(labelId);\r\n    if (hasSuffix) {\r\n      labelledByIds.push(suffixId);\r\n    }\r\n\r\n    const describedByIds = [];\r\n    if (hasHintSlot || hint) {\r\n      describedByIds.push(hintId);\r\n    }\r\n    if (hasError) {\r\n      describedByIds.push(errorId);\r\n    }\r\n    if (this.disabled) {\r\n      this.controlEl.setAttribute('disabled', 'true');\r\n      this.controlEl.setAttribute('aria-disabled', 'true');\r\n    } else {\r\n      this.controlEl.removeAttribute('disabled');\r\n      this.controlEl.removeAttribute('aria-disabled');\r\n    }\r\n    this.controlEl.setAttribute('aria-labelledby', labelledByIds.join(' '));\r\n    this.controlEl.setAttribute('aria-describedby', describedByIds.join(' '));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      controlId,\r\n      label,\r\n      hasLabelSlot,\r\n      hint,\r\n      disabled,\r\n      hasError,\r\n      error,\r\n      readonly,\r\n      hasIconAfter,\r\n      hasIconBefore,\r\n      hasPrefix,\r\n      hasSuffix,\r\n      hasHintSlot,\r\n      labelId,\r\n      hintId,\r\n      prefixId,\r\n      suffixId,\r\n      errorId,\r\n      hiddenInputName,\r\n      hiddenInputValue,\r\n    } = this;\r\n\r\n    const showLabel = hasLabelSlot || label;\r\n    const showHint = hasHintSlot || hint;\r\n    const showLabelWrapper = showLabel || showHint;\r\n    return (\r\n      <Host\r\n        class={{\r\n          'go-field': true,\r\n          'error': hasError,\r\n          'readonly': !!readonly,\r\n          'disabled': !!disabled,\r\n          'has-prefix': hasPrefix,\r\n          'has-suffix': hasSuffix,\r\n          'has-icon-before': hasIconBefore,\r\n          'has-icon-after': hasIconAfter,\r\n        }}>\r\n        {showLabelWrapper ? (\r\n          <div class=\"label-wrapper\">\r\n            {showLabel ? (\r\n              <label class=\"label\" htmlFor={controlId} id={labelId}>\r\n                {label}\r\n              </label>\r\n            ) : null}\r\n            {showHint ? (\r\n              <div class=\"hint\" id={hintId}>\r\n                <slot name=\"hint\">{hint}</slot>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        ) : null}\r\n\r\n        <div class=\"control-wrapper\">\r\n          {hasPrefix ? (\r\n            <span class=\"prefix presuf\" aria-hidden=\"true\" id={prefixId}>\r\n              <slot name=\"prefix\"></slot>\r\n            </span>\r\n          ) : null}\r\n\r\n          {hasIconBefore ? (\r\n            <span class=\"control-icon icon-before\">\r\n              <slot name=\"icon-before\"></slot>\r\n            </span>\r\n          ) : null}\r\n          <slot></slot>\r\n\r\n          {hasSuffix ? (\r\n            <span class=\"suffix presuf\" aria-hidden=\"true\" id={suffixId}>\r\n              <slot name=\"suffix\"></slot>\r\n            </span>\r\n          ) : null}\r\n\r\n          {readonly || hasIconAfter ? (\r\n            <span class=\"control-icon icon-after\">\r\n              {readonly ? (\r\n                // prettier-ignore\r\n                <svg class=\"lock-icon\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g fill=\"none\"><path d=\"M0 0h24v24H0V0z\"/><path d=\"M0 0h24v24H0V0z\" opacity=\".87\"/></g><path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"/></svg>\r\n              ) : (\r\n                <slot name=\"icon-after\"></slot>\r\n              )}\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n        {hasError ? (\r\n          <div id={errorId} class=\"error-msg\">\r\n            {error}\r\n          </div>\r\n        ) : null}\r\n\r\n        {hiddenInputName ? <input type=\"hidden\" name={hiddenInputName} value={hiddenInputValue} /> : null}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"}