import{r as t,h as o,g as r}from"./p-797021b3.js";import{m as s}from"./p-bcc2e44c.js";import{b as e}from"./p-66f1b45b.js";import"./p-3d035636.js";import"./p-fa247fce.js";const a="go-card-row{--card-row-gap:1rem;align-items:stretch;--go-col-gap:var(--card-row-gap)}go-card-row.no-stretch{align-items:flex-start}go-card-row go-card{opacity:0;max-height:12.5rem}go-card-row go-card.loaded{opacity:1;max-height:inherit}go-card-row .stagger go-card.loaded{opacity:0}go-card-row .card-col{margin-bottom:var(--card-row-gap)}";const i=class{constructor(o){t(this,o);this.cardClasses=["card-col"];this.noStretch=false;this.cols=1;this.colsTablet=2;this.colsDesktop=3;this.colsLarge=4;this.stagger=undefined;this.heading=undefined;this.headingTag="h2";this.moreLinkHref=undefined;this.moreLinkText=undefined}componentWillLoad(){this.hasHeadingSlot=e(this.el,"heading");if(this.stagger){this.inViewObserver=new IntersectionObserver((t=>{t.forEach(((t,o)=>{if(!t.isIntersecting){return}const r=t.target;r.classList.add("stagger-fade-in");r.style.cssText=`--stagger-delay: ${o*this.stagger}ms`;this.inViewObserver.unobserve(r)}))}),{threshold:.2})}}async componentDidLoad(){const{cols:t,colsTablet:o,colsDesktop:r,colsLarge:s}=this;this.cardClasses.push(`col-${Math.ceil(12/t)}`);this.cardClasses.push(`col-tablet-${Math.ceil(12/o)}`);this.cardClasses.push(`col-desktop-${Math.ceil(12/r)}`);this.cardClasses.push(`col-large-${Math.ceil(12/s)}`);this.loadCards()}loadCards(){const t=this.el.querySelectorAll("go-card:not(.loaded)");t.forEach((t=>{this.prepareCard(t,this.cardClasses)}))}prepareCard(t,o){const r=document.createElement("div");r.classList.add(...o);s(t,r);t.classList.add("loaded");s(r,this.rowEl);if(this.stagger){this.inViewObserver.observe(t)}}render(){const{noStretch:t,stagger:r,heading:s,moreLinkHref:e,moreLinkText:a,hasHeadingSlot:i,headingTag:c}=this;const h={heading:s,moreLinkHref:e,moreLinkText:a,headingTag:c};return o("section",null,o("go-heading-row",Object.assign({},h),i?o("slot",{name:"heading"}):null),o("div",{class:{"card-row row":true,"no-stretch":t,stagger:!!r},ref:t=>this.rowEl=t},o("slot",null)))}get el(){return r(this)}};i.style=a;export{i as go_card_row};
//# sourceMappingURL=p-64ef264a.entry.js.map