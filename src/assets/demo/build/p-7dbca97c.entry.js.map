{"version":3,"names":["goLinkCss","GoLink","this","attrs","componentWillLoad","checkExternal","inheritAttributes","el","checkNewTab","isNewTab","target","href","isExternal","isExternalURL","url","startsWith","tmp","document","createElement","host","window","location","remove","render","expandClickableArea","classes","push","linkAttrs","Object","assign","class","join","h","xmlns","viewBox","d","fill"],"sources":["src/components/go-link/go-link.scss?tag=go-link","src/components/go-link/go-link.tsx"],"sourcesContent":["go-link {\r\n  .external-link-icon {\r\n    height: 0.9em;\r\n    fill: currentColor;\r\n    transform: translate(10%, 15%);\r\n    margin-left: 0.25em;\r\n  }\r\n\r\n  .expand {\r\n    &::after {\r\n      content: '';\r\n      position: absolute;\r\n      top: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n    }\r\n  }\r\n}\r\n","import { Component, h, Element, State, Prop, Watch } from '@stencil/core';\r\nimport { inheritAttributes } from '../../utils/helper';\r\n\r\n// 1. check cross domain and add target=\"_blank\" + rel=\"noopener noreferrer\"\r\n// 2. check target=\"_blank\" and add visual + screen reader queues\r\n@Component({\r\n  tag: 'go-link',\r\n  styleUrl: 'go-link.scss',\r\n  shadow: false,\r\n})\r\nexport class GoLink {\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * The `href` of the link.\r\n   */\r\n  @Prop() href: string;\r\n\r\n  /**\r\n   * The `target` of the link.\r\n   */\r\n  @Prop() target?: '_blank' | '_self' | '_parent' | '_top';\r\n\r\n  @Prop() expandClickableArea?: boolean = false;\r\n\r\n  // Store attributes inherited from the host element\r\n  private attrs = {};\r\n  componentWillLoad() {\r\n    this.checkExternal();\r\n    this.attrs = inheritAttributes(this.el, ['href', 'target', 'expand-clickable-area']);\r\n  }\r\n\r\n  @State() isExternal: boolean = false;\r\n\r\n  @State() isNewTab: boolean = false;\r\n\r\n  @Watch('target')\r\n  checkNewTab() {\r\n    this.isNewTab = this.target === '_blank';\r\n  }\r\n\r\n  @Watch('href')\r\n  checkExternal() {\r\n    if (!this.href) {\r\n      return;\r\n    }\r\n    this.isExternal = this.isExternalURL(this.href);\r\n    if (this.isExternal) {\r\n      this.isNewTab = true;\r\n    }\r\n  }\r\n\r\n  private isExternalURL(url: string): boolean {\r\n    if (url.startsWith('#')) {\r\n      return false;\r\n    }\r\n    const tmp = document.createElement('a');\r\n    tmp.href = url;\r\n    const isExternal = tmp.host !== window.location.host;\r\n    tmp.remove();\r\n    return isExternal;\r\n  }\r\n\r\n  render() {\r\n    const { href, target, attrs, isExternal, isNewTab, expandClickableArea } = this;\r\n\r\n    let classes = ['go-link'];\r\n    if (attrs['class']) {\r\n      classes.push(attrs['class']);\r\n    }\r\n    if (expandClickableArea) {\r\n      classes.push('expand');\r\n    }\r\n    let linkAttrs = {\r\n      ...attrs,\r\n      href,\r\n      class: classes.join(' '),\r\n      target: isExternal || isNewTab ? '_blank' : target,\r\n    };\r\n\r\n    return (\r\n      <a {...linkAttrs}>\r\n        <slot></slot>\r\n        {isExternal || isNewTab\r\n          ? [\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" class=\"external-link-icon\">\r\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                <path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\" />\r\n              </svg>,\r\n              <span class=\"visually-hidden\">Opens in new a tab or window</span>,\r\n            ]\r\n          : null}\r\n      </a>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"iIAAA,MAAMA,EAAY,iM,MCULC,EAAM,M,yBAgBTC,KAAAC,MAAQ,G,mEAHwB,M,gBAST,M,cAEF,K,CAP7B,iBAAAC,GACEF,KAAKG,gBACLH,KAAKC,MAAQG,EAAkBJ,KAAKK,GAAI,CAAC,OAAQ,SAAU,yB,CAQ7D,WAAAC,GACEN,KAAKO,SAAWP,KAAKQ,SAAW,Q,CAIlC,aAAAL,GACE,IAAKH,KAAKS,KAAM,CACd,M,CAEFT,KAAKU,WAAaV,KAAKW,cAAcX,KAAKS,MAC1C,GAAIT,KAAKU,WAAY,CACnBV,KAAKO,SAAW,I,EAIZ,aAAAI,CAAcC,GACpB,GAAIA,EAAIC,WAAW,KAAM,CACvB,OAAO,K,CAET,MAAMC,EAAMC,SAASC,cAAc,KACnCF,EAAIL,KAAOG,EACX,MAAMF,EAAaI,EAAIG,OAASC,OAAOC,SAASF,KAChDH,EAAIM,SACJ,OAAOV,C,CAGT,MAAAW,GACE,MAAMZ,KAAEA,EAAID,OAAEA,EAAMP,MAAEA,EAAKS,WAAEA,EAAUH,SAAEA,EAAQe,oBAAEA,GAAwBtB,KAE3E,IAAIuB,EAAU,CAAC,WACf,GAAItB,EAAM,SAAU,CAClBsB,EAAQC,KAAKvB,EAAM,S,CAErB,GAAIqB,EAAqB,CACvBC,EAAQC,KAAK,S,CAEf,IAAIC,EAASC,OAAAC,OAAAD,OAAAC,OAAA,GACR1B,GAAK,CACRQ,OACAmB,MAAOL,EAAQM,KAAK,KACpBrB,OAAQE,GAAcH,EAAW,SAAWC,IAG9C,OACEsB,EAAA,IAAAJ,OAAAC,OAAA,GAAOF,GACLK,EAAA,aACCpB,GAAcH,EACX,CACEuB,EAAA,OAAKC,MAAM,6BAA6BC,QAAQ,YAAW,cAAa,OAAOJ,MAAM,sBACnFE,EAAA,QAAMG,EAAE,gBAAgBC,KAAK,SAC7BJ,EAAA,QAAMG,EAAE,wIAEVH,EAAA,QAAMF,MAAM,mBAAiB,iCAE/B,K"}