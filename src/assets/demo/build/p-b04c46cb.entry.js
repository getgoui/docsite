import{r as o,h as i,H as t,g as e,c as r}from"./p-797021b3.js";import{s as a,b as n}from"./p-66f1b45b.js";import{u as s}from"./p-fa247fce.js";import"./p-3d035636.js";const d="go-accordion{--heading-padding-x:1rem;--heading-padding-y:var(--go-size--1);--panel-padding-x:1rem;--panel-padding-y:1rem;--panel-max-height:100vh;--heading-text-color:var(--go-color-text, #333);--heading-bg-color:var(--go-color-neutral-100);--heading-font-size:var(--go-size-0, 1rem);--heading-font-weight:700;--panel-bg-color:var(--go-color-bg);--heading-border-bottom:var(--go-border-thin) solid var(--go-color-border);--heading-bg-color-hover:var(--go-color-neutral-200);--heading-fg-color-hover:var(--go-color-text);--heading-radius:var(--radius-2)}";const h=class{constructor(i){o(this,i);this.multiple=false}componentWillLoad(){this.items=Array.from(this.el.children)}componentDidLoad(){if(!this.multiple){this.activeItem=a(this.el,"go-accordion-item[active]")[0];if(this.activeItem){this.activeItem.open()}this.closeNonActive()}}openHandler(o){o.stopPropagation();const i=o.target;if(!this.multiple){this.activeItem=i;this.closeNonActive()}}closeNonActive(){this.items.forEach((o=>{if(!o.isSameNode(this.activeItem)){o.close()}}))}render(){return i(t,null,i("slot",null))}get el(){return e(this)}};h.style=d;const c="go-accordion-item{display:block}@media (prefers-reduced-motion: reduce){go-accordion-item{--go-duration-normal:0.01s}}go-accordion-item .heading .heading-control{background:var(--heading-bg-color);color:var(--heading-text-color);font-size:var(--heading-font-size, 1rem);border-radius:var(--heading-radius);display:flex;align-items:center;justify-content:space-between;width:100%;border:none;padding:var(--heading-padding-y) var(--heading-padding-x);cursor:pointer;transition:border-radius var(--go-duration-normal) var(--go-timing-function)}@media (prefers-reduced-motion: reduce){go-accordion-item .heading .heading-control{transition-duration:0s}}go-accordion-item .heading .heading-control:hover,go-accordion-item .heading .heading-control:focus-visible{--heading-bg-color:var(--heading-bg-color-hover);--heading-text-color:var(--heading-fg-color-hover)}go-accordion-item .heading .heading-control:focus-visible{outline:var(--go-focus-outline-width, 2px) solid var(--go-focus-outline-color, #000);outline-offset:var(--go-focus-outline-offset)}go-accordion-item .heading .arrow{display:block;color:currentColor;transition:transform var(--go-duration-normal) var(--go-timing-function);width:1.5em;height:1.5em}@media (prefers-reduced-motion: reduce){go-accordion-item .heading .arrow{transition-duration:0s}}go-accordion-item .panel-wrapper{overflow:hidden;max-height:0;transition:max-height var(--go-duration-normal) var(--go-timing-function);background:var(--panel-bg-color)}go-accordion-item .panel-wrapper .panel{border-top-left-radius:0;border-top-right-radius:0;overflow:hidden;padding:var(--panel-padding-y) var(--panel-padding-x)}go-accordion-item.autoHeight .panel-wrapper{overflow:hidden}go-accordion-item.active>.heading{border-bottom-left-radius:0;border-bottom-right-radius:0;transition:border-radius 0s}go-accordion-item.active>.heading .arrow{transform:rotate(180deg)}go-accordion-item.active>.panel-wrapper{max-height:var(--body-max-height)}";const g=class{constructor(i){o(this,i);this.opened=r(this,"opened",7);this.opening=r(this,"opening",7);this.closed=r(this,"closed",7);this.closing=r(this,"closing",7);this.heading=null;this.headingTag="h3";this.autoHeight=true;this.active=false;this.hasHeadingSlot=true;this.hasArrowSlot=true}componentWillLoad(){this.hasHeadingSlot=n(this.el,"heading");this.hasArrowSlot=n(this.el,"arrow");this.panelId=s("go-accordion-item-panel-");this.headerId=s("go-accordion-item-header-");this.parentGroup=this.el.closest("go-accordion")}componentDidLoad(){if(this.autoHeight){this.panelEl.style.setProperty("--body-max-height",this.panelEl.scrollHeight+2+"px")}this.onTransitionEnd();this.panelEl.addEventListener("transitionstart",(()=>{this.onTransitionStart()}));this.panelEl.addEventListener("transitionend",(()=>{this.onTransitionEnd()}))}handleNavigation(o){if(o==="ArrowDown"){if(this.el.nextElementSibling){this.el.nextElementSibling.focusOnControl()}}if(o==="ArrowUp"){if(this.el.previousElementSibling){this.el.previousElementSibling.focusOnControl()}}if(o==="Home"){this.parentGroup.children[0].focusOnControl()}if(o==="End"){this.parentGroup.children[this.parentGroup.children.length-1].focusOnControl()}}onTransitionEnd(){if(this.active){this.panelEl.style.overflow="auto";this.opened.emit()}else{this.panelEl.style.overflow="hidden";this.panelEl.style.visibility="hidden";this.closed.emit()}}onTransitionStart(){if(this.active){this.panelEl.style.visibility="visible";this.opening.emit()}else{this.closing.emit()}}async toggle(){if(this.active){this.close()}else{this.open()}}async close(){this.active=false}async open(){this.active=true}async focusOnControl(){this.el.querySelector(".heading-control").focus()}render(){const{active:o,autoHeight:e,headingTag:r,panelId:a,headerId:n}=this;return i(t,{class:{active:o,autoHeight:e}},i(r,{class:"heading"},i("button",{id:n,class:"heading-control",role:"button",onClick:()=>this.toggle(),onKeyDown:o=>this.handleNavigation(o.key),"aria-expanded":o?"true":"false","aria-controls":a},this.hasHeadingSlot?i("slot",{name:"heading"}):this.heading,i("span",{class:"arrow"},this.hasArrowSlot?i("slot",{name:"arrow"}):i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},i("path",{d:"m6 9 6 6 6-6"}))))),i("div",{class:"panel-wrapper",role:"region",id:a,"aria-labelledby":n,ref:o=>this.panelEl=o},i("div",{class:"panel"},i("slot",null))))}get el(){return e(this)}};g.style=c;export{h as go_accordion,g as go_accordion_item};
//# sourceMappingURL=p-b04c46cb.entry.js.map