{"version":3,"names":["goContentLayoutCss","GoContentLayout","this","hasSidebar","initToc","tocEl","init","componentWillLoad","hasSlot","el","watchDevice","device","sidebarMobilePosition","sidebarDesktopPosition","deviceSidebarPosition","mobile","tablet","desktop","large","computedSidebarPosition","adjustSidebarPosition","pos","sidebarTemplate","tempSidebar","style","display","setAttribute","sidebarContainerStart","appendChild","_a","sidebarContainerEnd","componentDidLoad","render","pageHeading","intro","preHeading","breadcrumbs","toc","tocProps","sidebarSticky","sticky","noHero","classes","start","end","h","Host","ref","id","class","Object","assign","name","heading"],"sources":["src/patterns/go-content-layout/go-content-layout.scss?tag=go-content-layout","src/patterns/go-content-layout/go-content-layout.tsx"],"sourcesContent":["go-content-layout {\r\n  --content-container-padding: 2rem 0;\r\n\r\n  display: block;\r\n  .content-container {\r\n    position: relative;\r\n    padding: var(--content-container-padding);\r\n    @include desktop {\r\n      > .row {\r\n        align-items: flex-start;\r\n      }\r\n      .sticky {\r\n        position: sticky;\r\n        top: 0;\r\n        bottom: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, Host, h, Element, Prop, Method, State, Watch } from '@stencil/core';\r\nimport { TocProps } from '../../components/go-toc/go-toc';\r\nimport { INavItem } from '../../interfaces';\r\nimport { watchDevice } from '../../utils/match-media';\r\nimport { hasSlot } from '../../utils/helper';\r\n\r\nexport type SidebarPosition = 'start' | 'end';\r\n\r\nexport interface ContentLayoutProps {\r\n  pageHeading: string;\r\n  preHeading?: string;\r\n  intro?: string;\r\n  breadcrumbs?: INavItem[] | string;\r\n  heroImgSrc?: string;\r\n  heroImgAlt?: string;\r\n  toc?: boolean;\r\n  tocProps?: TocProps;\r\n  sidebarMobilePosition?: SidebarPosition;\r\n  sidebarDesktopPosition?: SidebarPosition;\r\n}\r\n\r\n/**\r\n * @slot intro - Hero section intro text\r\n * @slot main - Main section\r\n */\r\n@Component({\r\n  tag: 'go-content-layout',\r\n  styleUrl: 'go-content-layout.scss',\r\n  shadow: false,\r\n})\r\nexport class GoContentLayout implements ContentLayoutProps {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() pageHeading: string;\r\n\r\n  @Prop() preHeading?: string;\r\n\r\n  @Prop() intro?: string;\r\n\r\n  @Prop() breadcrumbs?: INavItem[] | string;\r\n\r\n  @Prop() heroImgSrc?: string;\r\n\r\n  @Prop() heroImgAlt?: string;\r\n\r\n  /**\r\n   * no hero banner\r\n   */\r\n  @Prop() noHero?: boolean = false;\r\n\r\n  /**\r\n   * If the \"On this page\" table of content section should be displayed\r\n   */\r\n  @Prop() toc?: boolean;\r\n  /**\r\n   * Props to pass into the table of content ([see `go-toc` props](/docs/components/go-toc#go-toc-props))\r\n   */\r\n  @Prop() tocProps?: TocProps;\r\n  /**\r\n   * sidebar position on mobile screens\r\n   * possible values are `start` and `end`\r\n   */\r\n  @Prop() sidebarMobilePosition?: SidebarPosition = 'start';\r\n\r\n  /**\r\n   * sidebar position on desktop screens\r\n   * possible values are `start` and `end`\r\n   */\r\n  @Prop() sidebarDesktopPosition?: SidebarPosition = 'start';\r\n\r\n  /**\r\n   * If sidebar should be sticky\r\n   */\r\n  @Prop() sidebarSticky? = false;\r\n  tocEl: HTMLGoTocElement;\r\n\r\n  sidebarTemplate: HTMLElement;\r\n\r\n  sidebarContainerStart: HTMLElement;\r\n  sidebarContainerEnd: HTMLElement;\r\n\r\n  @Method()\r\n  async initToc() {\r\n    if (this.tocEl) {\r\n      await this.tocEl.init();\r\n    }\r\n  }\r\n\r\n  @State() computedSidebarPosition: SidebarPosition | null = null;\r\n  hasSidebar = false;\r\n  async componentWillLoad() {\r\n    this.hasSidebar = hasSlot(this.el, 'sidebar');\r\n    // add resize observer to toggle between mobile and desktop\r\n    watchDevice((device) => {\r\n      const { sidebarMobilePosition, sidebarDesktopPosition } = this;\r\n      const deviceSidebarPosition = {\r\n        mobile: sidebarMobilePosition,\r\n        tablet: sidebarMobilePosition,\r\n        desktop: sidebarDesktopPosition,\r\n        large: sidebarDesktopPosition,\r\n      };\r\n\r\n      this.computedSidebarPosition = deviceSidebarPosition[device];\r\n    });\r\n  }\r\n\r\n  rowEl: HTMLElement;\r\n\r\n  @Watch('computedSidebarPosition')\r\n  adjustSidebarPosition(pos: SidebarPosition | null) {\r\n    if (!this.hasSidebar || !this.sidebarTemplate) {\r\n      return;\r\n    }\r\n    const tempSidebar = this.sidebarTemplate;\r\n    tempSidebar.style.display = 'block';\r\n    tempSidebar.setAttribute('aria-hidden', 'false');\r\n    if (pos === 'start') {\r\n      this.sidebarContainerStart.appendChild(tempSidebar);\r\n    } else {\r\n      this.sidebarContainerEnd?.appendChild(tempSidebar);\r\n    }\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.initToc();\r\n  }\r\n\r\n  render() {\r\n    const { pageHeading, intro, preHeading, breadcrumbs, toc, tocProps, hasSidebar, computedSidebarPosition, sidebarSticky: sticky, noHero } = this;\r\n\r\n    const classes = {\r\n      start:\r\n        computedSidebarPosition === 'start'\r\n          ? {\r\n              'content-sidebar col-12 col-desktop-3': true,\r\n              sticky,\r\n            }\r\n          : null,\r\n      end:\r\n        computedSidebarPosition === 'end'\r\n          ? {\r\n              'content-sidebar col-12 col-desktop-3 offset-desktop-1': true,\r\n              sticky,\r\n            }\r\n          : null,\r\n    };\r\n\r\n    return (\r\n      <Host>\r\n        <div ref={(el) => (this.sidebarTemplate = el)} id=\"sidebar-template\" aria-hidden={true} style={{ display: 'none' }}>\r\n          <div class={{ 'content-sidebar': true, sticky }}>\r\n            {toc && <go-toc {...tocProps} ref={(el) => (this.tocEl = el)}></go-toc>}\r\n            <slot name=\"sidebar\"></slot>\r\n          </div>\r\n        </div>\r\n        {!noHero && (\r\n          <go-hero breadcrumbs={breadcrumbs} preHeading={preHeading} heading={pageHeading}>\r\n            <slot name=\"full-width-bg\"></slot>\r\n            <slot name=\"intro\">\r\n              <p>{intro}</p>\r\n            </slot>\r\n          </go-hero>\r\n        )}\r\n        <div class=\"container content-container\">\r\n          <div class=\"row\">\r\n            {hasSidebar && <aside ref={(el) => (this.sidebarContainerStart = el)} class={classes.start}></aside>}\r\n            <main\r\n              class={{\r\n                'col-12 col-desktop-8 content-main': true,\r\n                'offset-desktop-1': hasSidebar && computedSidebarPosition === 'start',\r\n              }}>\r\n              {!hasSidebar && toc && <go-toc {...tocProps} ref={(el) => (this.tocEl = el)}></go-toc>}\r\n              <slot></slot>\r\n            </main>\r\n            {hasSidebar && <aside ref={(el) => (this.sidebarContainerEnd = el)} class={classes.end}></aside>}\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"oJAAA,MAAMA,EAAqB,+U,MC8BdC,EAAe,M,yBA2D1BC,KAAAC,WAAa,M,qKAzCc,M,sEAcuB,Q,4BAMC,Q,mBAK1B,M,6BAekC,I,CAN3D,aAAMC,GACJ,GAAIF,KAAKG,MAAO,OACRH,KAAKG,MAAMC,M,EAMrB,uBAAMC,GACJL,KAAKC,WAAaK,EAAQN,KAAKO,GAAI,WAEnCC,GAAaC,IACX,MAAMC,sBAAEA,EAAqBC,uBAAEA,GAA2BX,KAC1D,MAAMY,EAAwB,CAC5BC,OAAQH,EACRI,OAAQJ,EACRK,QAASJ,EACTK,MAAOL,GAGTX,KAAKiB,wBAA0BL,EAAsBH,EAAO,G,CAOhE,qBAAAS,CAAsBC,G,MACpB,IAAKnB,KAAKC,aAAeD,KAAKoB,gBAAiB,CAC7C,M,CAEF,MAAMC,EAAcrB,KAAKoB,gBACzBC,EAAYC,MAAMC,QAAU,QAC5BF,EAAYG,aAAa,cAAe,SACxC,GAAIL,IAAQ,QAAS,CACnBnB,KAAKyB,sBAAsBC,YAAYL,E,KAClC,EACLM,EAAA3B,KAAK4B,uBAAmB,MAAAD,SAAA,SAAAA,EAAED,YAAYL,E,EAI1C,gBAAAQ,GACE7B,KAAKE,S,CAGP,MAAA4B,GACE,MAAMC,YAAEA,EAAWC,MAAEA,EAAKC,WAAEA,EAAUC,YAAEA,EAAWC,IAAEA,EAAGC,SAAEA,EAAQnC,WAAEA,EAAUgB,wBAAEA,EAAyBoB,cAAeC,EAAMC,OAAEA,GAAWvC,KAE3I,MAAMwC,EAAU,CACdC,MACExB,IAA4B,QACxB,CACE,uCAAwC,KACxCqB,UAEF,KACNI,IACEzB,IAA4B,MACxB,CACE,wDAAyD,KACzDqB,UAEF,MAGR,OACEK,EAACC,EAAI,KACHD,EAAA,OAAKE,IAAMtC,GAAQP,KAAKoB,gBAAkBb,EAAKuC,GAAG,mBAAkB,cAAc,KAAMxB,MAAO,CAAEC,QAAS,SACxGoB,EAAA,OAAKI,MAAO,CAAE,kBAAmB,KAAMT,WACpCH,GAAOQ,EAAA,SAAAK,OAAAC,OAAA,GAAYb,EAAQ,CAAES,IAAMtC,GAAQP,KAAKG,MAAQI,KACzDoC,EAAA,QAAMO,KAAK,eAGbX,GACAI,EAAA,WAAST,YAAaA,EAAaD,WAAYA,EAAYkB,QAASpB,GAClEY,EAAA,QAAMO,KAAK,kBACXP,EAAA,QAAMO,KAAK,SACTP,EAAA,SAAIX,KAIVW,EAAA,OAAKI,MAAM,+BACTJ,EAAA,OAAKI,MAAM,OACR9C,GAAc0C,EAAA,SAAOE,IAAMtC,GAAQP,KAAKyB,sBAAwBlB,EAAKwC,MAAOP,EAAQC,QACrFE,EAAA,QACEI,MAAO,CACL,oCAAqC,KACrC,mBAAoB9C,GAAcgB,IAA4B,WAE9DhB,GAAckC,GAAOQ,EAAA,SAAAK,OAAAC,OAAA,GAAYb,EAAQ,CAAES,IAAMtC,GAAQP,KAAKG,MAAQI,KACxEoC,EAAA,cAED1C,GAAc0C,EAAA,SAAOE,IAAMtC,GAAQP,KAAK4B,oBAAsBrB,EAAKwC,MAAOP,EAAQE,Q"}