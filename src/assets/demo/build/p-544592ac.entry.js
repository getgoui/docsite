import{r as t,c as i,h as a,H as r,g as o}from"./p-797021b3.js";import{u as e}from"./p-fa247fce.js";const s="go-tabs{--tab-padding:0.75rem 1.25rem;--tab-bg-color:transparent;--tab-hover-bg-color:var(--go-color-neutral-200);--tab-text-color:var(--go-color-neutral-700);--tab-focus-color:var(--go-color-primary-600);--tab-active-color:var(--go-color-primary-800);--tab-active-bg-color:transparent;--tab-border-width:0.2em;--tab-active-indicator-color:var(--tab-active-color);--tabs-active-indicator-width:0;--tabs-active-indicator-height:0.2em;--tabs-active-indicator-color:var(--tab-active-color);--tabs-vertical-tablist-basis:25%;--tabs-tablist-gap:1rem;display:flex;flex-direction:column;gap:var(--tabs-tablist-gap)}go-tabs [role=tablist]{overflow:auto;display:flex;flex-wrap:nowrap;width:100%;position:relative}go-tabs [role=tab]{padding:var(--tab-padding);border:var(--tab-border-width) solid transparent;white-space:nowrap;background:var(--tab-bg-color);color:var(--tab-text-color);font-weight:500;transition:background-color var(--go-duration-normal) var(--go-timing-function), color var(--go-duration-normal) var(--go-timing-function)}@media (prefers-reduced-motion: reduce){go-tabs [role=tab]{transition-duration:0s}}go-tabs [role=tab]:hover,go-tabs [role=tab]:focus{outline:0;background:var(--tab-hover-bg-color)}go-tabs [role=tab]:focus-visible{border-top-color:var(--tab-focus-color);text-decoration:underline;text-underline-offset:0.25rem}go-tabs [role=tab]:not(.active){cursor:pointer}go-tabs [role=tab][aria-selected=true]{background:var(--tab-active-bg-color);color:var(--tab-active-color);text-decoration:none;text-shadow:0 0 0.0625rem currentColor}go-tabs .tabs-active-indicator-track{position:absolute;width:100%;bottom:0;left:0;right:0}go-tabs .tabs-active-indicator-track .tabs-active-indicator{transition:transform var(--go-duration-normal) var(--go-timing-function), width var(--go-duration-normal) var(--go-timing-function), height var(--go-duration-normal) var(--go-timing-function);transform:translateX(var(--tabs-active-indicator-left));width:var(--tabs-active-indicator-width);height:var(--tabs-active-indicator-height);border-radius:var(--radius-round);background:var(--tabs-active-indicator-color)}@media (prefers-reduced-motion: reduce){go-tabs .tabs-active-indicator-track .tabs-active-indicator{transition-duration:0s}}go-tabs.vertical{flex-direction:row}go-tabs.vertical [role=tablist]{flex-direction:column;flex:0 0 var(--tabs-vertical-tablist-basis, 25%)}go-tabs.vertical [role=tablist] .tabs-active-indicator-track{width:auto;top:0;left:auto}go-tabs.vertical [role=tablist] .tabs-active-indicator-track .tabs-active-indicator{--tabs-active-indicator-width:0.25rem;transform:translateY(var(--tabs-active-indicator-top))}go-tabs.vertical [role=tab]{text-align:left;white-space:normal}go-tabs.vertical [role=tab]:focus-visible{border-top-color:transparent;border-left-color:var(--tab-focus-color)}";const n=class{constructor(a){t(this,a);this.tabChange=i(this,"tabChange",7);this.activeIndex=-1;this.tabs=[];this.panels=[];this.direction={ArrowUp:-1,ArrowLeft:-1,ArrowDown:1,ArrowRight:1};this.tabGroupLabel=undefined;this.vertical=false;this.manual=false;this.tabChildren=undefined;this.activeTabRect=undefined}componentWillLoad(){this.initialiseTabs()}initialiseTabs(){const t=Array.from(this.el.querySelectorAll("go-tab"));if(t.length===0){return}this.tabChildren=t.map((t=>{const i=e("tab-");const a=i+"-panel";t.tabId=i;t.panelId=a;return{tabId:t.tabId||i,panelId:t.panelId||a,label:t.label,active:t.active}}));this.panels=t;const i=this.tabChildren.findIndex((t=>t.active));if(i===-1){this.tabChildren=this.tabChildren.map(((t,i)=>Object.assign(Object.assign({},t),{active:i===0})));this.panels[0].active=true}}componentDidLoad(){var t;if(!((t=this.tabChildren)===null||t===void 0?void 0:t.length)){return}this.activeIndex=this.tabChildren.findIndex((t=>t.active));setTimeout((()=>{this.activeTabRect=this.tabs[this.activeIndex].getBoundingClientRect();this.activateTab(this.tabs[this.activeIndex],true,true)}),10)}deactivateTabs(){this.panels.forEach((t=>t.active=false));this.tabChildren=this.tabChildren.map((t=>Object.assign(Object.assign({},t),{active:false})))}activateTab(t,i=true,a=false){if(t.getAttribute("aria-selected")==="true"){if(a){this.tabChange.emit({index:this.activeIndex,tabEl:t,panelEl:this.panels[this.activeIndex]})}return}this.deactivateTabs();const r=t.getAttribute("id");this.activeTabRect=t.getBoundingClientRect();this.tabChildren=this.tabChildren.map(((t,i)=>{if(t.tabId===r){this.panels[i].active=true;this.activeIndex=i;return Object.assign(Object.assign({},t),{active:true})}return t}));if(i){t.focus()}this.tabChange.emit({index:this.activeIndex,tabEl:t,panelEl:this.panels[this.activeIndex]})}onTabClick(t){const i=t.target;this.activateTab(i,false)}onKeydown(t){const i=t.code;switch(i){case"End":t.preventDefault();if(this.manual){this.focusLastTab()}else{this.activateTab(this.tabs[this.tabs.length-1])}break;case"Home":t.preventDefault();if(this.manual){this.focusFirstTab()}else{this.activateTab(this.tabs[0])}break;case"ArrowUp":case"ArrowDown":if(this.vertical){t.preventDefault();this.switchTabOnArrowPress(t)}break;case"ArrowLeft":case"ArrowRight":t.preventDefault();this.switchTabOnArrowPress(t);break}}switchTabOnArrowPress(t){var i=t.code;const a=this.tabs.findIndex((i=>t.target.isSameNode(i)));if(this.direction[i]&&a!==-1){const t=a+this.direction[i];if(this.tabs[t]){if(this.manual){this.tabs[t].focus();return}this.activateTab(this.tabs[t]);return}if(i==="ArrowLeft"||i==="ArrowUp"){if(this.manual){this.focusLastTab();return}this.activateTab(this.tabs[this.tabs.length-1]);return}if(i==="ArrowRight"||i=="ArrowDown"){if(this.manual){this.focusFirstTab();return}this.activateTab(this.tabs[0]);return}}}focusFirstTab(){this.tabs[0].focus()}focusLastTab(){this.tabs[this.tabs.length-1].focus()}render(){const{tabChildren:t,tabGroupLabel:i,vertical:o,activeTabRect:e,tablistEl:s}=this;const n=(s===null||s===void 0?void 0:s.scrollLeft)||0;const c=(s===null||s===void 0?void 0:s.scrollTop)||0;const l=s===null||s===void 0?void 0:s.getBoundingClientRect();const b=n-(l===null||l===void 0?void 0:l.left)||0;const d=c-(l===null||l===void 0?void 0:l.top)||0;return a(r,{class:{tabs:true,vertical:o},style:o?{"--tabs-active-indicator-top":`${(e===null||e===void 0?void 0:e.top)+d||0}px`,"--tabs-active-indicator-height":`${(e===null||e===void 0?void 0:e.height)||0}px`}:{"--tabs-active-indicator-left":`${(e===null||e===void 0?void 0:e.left)+b||0}px`,"--tabs-active-indicator-width":`${(e===null||e===void 0?void 0:e.width)||0}px`}},a("div",{role:"tablist",ref:t=>this.tablistEl=t,"aria-label":i,"aria-orientation":o?"vertical":undefined},t?t.map(((t,i)=>a("button",{type:"button",role:"tab","aria-selected":t.active?"true":"false",tabindex:t.active?undefined:"-1","aria-controls":t.panelId,id:t.tabId,onClick:t=>this.onTabClick(t),onKeyDown:t=>this.onKeydown(t),key:i,class:{active:t.active},ref:t=>this.tabs.push(t)},t.label))):null,a("div",{class:"tabs-active-indicator-track","aria-hidden":"true"},a("div",{class:"tabs-active-indicator"}))),a("slot",null))}get el(){return o(this)}};n.style=s;export{n as go_tabs};
//# sourceMappingURL=p-544592ac.entry.js.map